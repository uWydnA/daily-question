## æ¯æ—¥ä¸€é¢˜

åœ¨è¿™é‡Œè®°å½•ç€æ¯å¤©è‡ªå·±é‡åˆ°çš„ä¸€é“å°è±¡æ·±åˆ»çš„å‰ç«¯é—®é¢˜ã€‚é­æŒè‡ªå·±ä¸æ–­å‰è¡Œï¼Œå…±åŒå­¦ä¹ ã€‚

### **2019/12/16**âŒšï¸

- JSON.parse(JSON.stringify(obj))å®ç°æ·±åº¦å…‹éš†çš„ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ

    <details >
          <summary>ç‚¹å‡»</summary>
          <ul>
              <li>ä»–æ— æ³•å®ç°å¯¹å‡½æ•° ã€RegExp ç­‰ç‰¹æ®Šå¯¹è±¡çš„å…‹éš†</li>
              <li>ä¼šæŠ›å¼ƒå¯¹è±¡çš„ constructor,æ‰€æœ‰çš„æ„é€ å‡½æ•°ä¼šæŒ‡å‘ Object</li>
              <li>å¯¹è±¡æœ‰å¾ªç¯å¼•ç”¨,ä¼šæŠ¥é”™</li>
          </ul>
      </details>

### **2019/12/17**âŒšï¸

- PHPå¦‚ä½•æ“ä½œæ•°æ®åº“å¢åŠ æ•°æ®è¡¨ä¸­çš„æ•°æ®ï¼Ÿ

  <details >
        <summary>ç‚¹å‡»</summary>
        <ul>
            <li>é¦–å…ˆéœ€è¦åˆ›å»ºmysqlå‘½ä»¤çš„å­—ç¬¦ä¸²ï¼š$str = 'INSERT stu (user,sex,age) VALUES("å°äºŒ","ç”·",20)';</li>
            <li>å­—ç¬¦ä¸²çš„æ ¼å¼åŠ¡å¿…è¦æ³¨æ„ï¼ŒVALUESåçš„å­—ç¬¦å¿…é¡»åŠ â€œâ€ï¼Œå“ªæ€•æ˜¯ç”¨$uå˜é‡å»æ‹¼æ¥ï¼Œä¹Ÿéœ€è¦ç”¨""æŠŠå˜é‡åŒ…è£¹æ‰å¯ä»¥</li>
            <li>$q = $link->query($str);å‘é€mysqlè¯­å¥ï¼Œæ‰§è¡Œå¯¹åº”çš„æ“ä½œ</li>
        </ul>
    </details>

### **2019/12/18**âŒšï¸

- å¦‚ä½•å®ç°JSONP

  <details >
        <summary>ç‚¹å‡»</summary>

  #### JSä»£ç 

  ```js
  var url = "http://localhost/myown/jsonp/jsonp2.php";
  document.onclick = function () {
      jsonp(url, (res) => {
          console.log(res);
      }, {
          cb: "qwe",
          cbname: "cb",
          user: "root",
          pass: "root"
      })
  }
  
  function jsonp(url, callback, obj) {
      var str = "";
      var script = document.createElement("script");
      for (var i in obj) {
          str += `${i}=${obj[i]}&`;
      }
      url = url + "?" + str + "__retr0__=" + new Date().getTime();
      script.src = url;
      document.body.appendChild(script);
      window[obj[obj.cbname]] = function (res) {
              callback(res);
      }
      script.remove();
  }
  ```

  #### PHPä»£ç 

  ```php
  <?php
  $u = $_GET["user"];
  $p = $_GET["pass"];
  $cb = $_GET["cb"];
  $data = "è¿™æ˜¯JSONPæ¥å—åˆ°çš„æ•°æ®" . $u . "------" . $p;
  echo "$cb('" . $data . "')";
  ?>
  ```

  

    </details>

### **2019/12/19**âŒšï¸

- mysqlå¦‚ä½•å¯¹æ•°æ®è¿›è¡Œå¢åˆ æ”¹æŸ¥

<details >
<summary>ç‚¹å‡»</summary>
<ul>
<li>INSERT è¡¨å(å­—æ®µå1ï¼Œå­—æ®µå2) VALUES(val1,val2)</li>
<li>DELETE FROM è¡¨å WHERE ä¸»é”® = val </li>
<li>UPDATE è¡¨å SET å­—æ®µ1 WHERE ä¸»é”® = val</li>
<li>SELECT * FROM è¡¨å</li>      

</ul>
</details>

  

### **2019/12/20**âŒšï¸

- cookiesä¸­çš„expiresçš„ä½œç”¨

<details >
<summary>ç‚¹å‡»</summary>
<ul>
<li>æŒ‡å®šäº†cookieçš„ç”Ÿå­˜æœŸï¼Œé»˜è®¤æƒ…å†µä¸‹cookieæ˜¯æš‚æ—¶å­˜åœ¨çš„ï¼Œä»–ä»¬å­˜å‚¨çš„å€¼åªåœ¨æµè§ˆå™¨ä¼šè¯æœŸé—´å­˜åœ¨ï¼Œå½“ç”¨æˆ·é€€å‡ºæµè§ˆå™¨åè¿™äº›å€¼ä¹Ÿä¼šä¸¢å¤±ï¼Œå¦‚æœæƒ³è®©cookieå­˜åœ¨ä¸€æ®µæ—¶é—´ï¼Œå°±è¦ä¸ºexpireså±æ€§è®¾ç½®ä¸ºæœªæ¥çš„ä¸€ä¸ªç”¨æ¯«ç§’æ•°è¡¨ç¤ºçš„è¿‡æœŸæ—¥æœŸæˆ–æ—¶é—´ç‚¹ï¼Œexpiresé»˜è®¤ä¸ºè®¾ç½®çš„expiresçš„å½“å‰æ—¶é—´ã€‚ç°åœ¨å·²ç»è¢«max-ageå±æ€§æ‰€å–ä»£ï¼Œmax-ageç”¨ç§’æ¥è®¾ç½®cookieçš„ç”Ÿå­˜æœŸã€‚</li>
<li>å¦‚æœmax-ageå±æ€§ä¸ºæ­£æ•°ï¼Œåˆ™è¡¨ç¤ºè¯¥cookieä¼šåœ¨max-ageç§’ä¹‹åè‡ªåŠ¨å¤±æ•ˆã€‚æµè§ˆå™¨ä¼šå°†max-ageä¸ºæ­£æ•°çš„cookieæŒä¹…åŒ–ï¼Œå³å†™åˆ°å¯¹åº”çš„cookieæ–‡ä»¶ä¸­ã€‚æ— è®ºå®¢æˆ·å…³é—­äº†æµè§ˆå™¨è¿˜æ˜¯ç”µè„‘ï¼Œåªè¦è¿˜åœ¨max-ageç§’ä¹‹å‰ï¼Œç™»å½•ç½‘ç«™æ—¶è¯¥cookieä»ç„¶æœ‰æ•ˆã€‚</li>
<li>å¦‚æœmax-ageä¸ºè´Ÿæ•°ï¼Œåˆ™è¡¨ç¤ºè¯¥cookieä»…åœ¨æœ¬æµè§ˆå™¨çª—å£ä»¥åŠæœ¬çª—å£æ‰“å¼€çš„å­çª—å£å†…æœ‰æ•ˆï¼Œå…³é—­çª—å£åè¯¥cookieå³å¤±æ•ˆã€‚max-ageä¸ºè´Ÿæ•°çš„Cookieï¼Œä¸ºä¸´æ—¶æ€§cookieï¼Œä¸ä¼šè¢«æŒä¹…åŒ–ï¼Œä¸ä¼šè¢«å†™åˆ°cookieæ–‡ä»¶ä¸­ã€‚cookieä¿¡æ¯ä¿å­˜åœ¨æµè§ˆå™¨å†…å­˜ä¸­ï¼Œå› æ­¤å…³é—­æµè§ˆå™¨è¯¥cookieå°±æ¶ˆå¤±äº†ã€‚cookieé»˜è®¤çš„max-ageå€¼ä¸º-1ã€‚</li>

<li>	å¦‚æœmax-ageä¸º0ï¼Œåˆ™è¡¨ç¤ºåˆ é™¤è¯¥cookieã€‚cookieæœºåˆ¶æ²¡æœ‰æä¾›åˆ é™¤cookieçš„æ–¹æ³•ï¼Œå› æ­¤é€šè¿‡è®¾ç½®è¯¥cookieå³æ—¶å¤±æ•ˆå®ç°åˆ é™¤cookieçš„æ•ˆæœã€‚å¤±æ•ˆçš„Cookieä¼šè¢«æµè§ˆå™¨ä»cookieæ–‡ä»¶æˆ–è€…å†…å­˜ä¸­åˆ é™¤ã€‚

å¦‚æœä¸è®¾ç½®expiresæˆ–è€…max-ageè¿™ä¸ªcookieé»˜è®¤æ˜¯Sessionçš„ï¼Œä¹Ÿå°±æ˜¯å…³é—­æµè§ˆå™¨è¯¥cookieå°±æ¶ˆå¤±äº†ã€‚</li>

â€‹      </ul>
</details>



### **2019/12/21**âŒšï¸

- mysqlå¦‚ä½•å–æ¶ˆä¸»é”®çš„è®¾ç½®

<details >
<summary>ç‚¹å‡»</summary>
<ul>
<li>alter table class drop primary key;</li>
<li>alter table class modify id int(11),drop primary key;//å°†classè¡¨ä¸­çš„id é‡ç½®ä¸ºæ™®é€šåˆ— </li>

</ul>
</details>

### **2019/12/22**âŒšï¸

- windosèº«ä¸Šçš„å­å¯¹è±¡æœ‰å“ªäº›

<details >
<summary>ç‚¹å‡»</summary>
<ul>
<li>window.history</li>
<li>window.frames</li>
<li>window.screen</li>
<li>window.navigator</li>
<li>window.location</li>
<li>window.document</li>

</ul>
</details>



### **2019/12/23**âŒšï¸

- localStorageçš„æ–¹æ³•æœ‰å“ªäº›

<details >
<summary>ç‚¹å‡»</summary>
<ul>
<li>localStorage.setItem(key,val)</li>
<li>localStorage.getItem(key)</li>
<li>localStorage.removeItem(key)</li>
<li>localStorage.clear()</li>

</ul>
</details>



### **2019/12/24**âŒšï¸

- å¦‚ä½•è®¾ç½®ä¸€æ¡ï¼“å¤©ä¹‹åè¿‡æœŸçš„åœ¨æ ¹ç›®å½•ä¸‹çš„cookie

<details >
<summary>ç‚¹å‡»</summary>

```js
var d = new Date();
d.setDate(d.getDate()+3);
document.cookie = "user=admin;path=/;expires="+d;
```

</details>



### **2019/12/25**âŒšï¸

- ä»€ä¹ˆæ˜¯å‘å¸ƒè®¢é˜…è€…æ¨¡å¼

<details >
<summary>ç‚¹å‡»</summary>

1. å‘å¸ƒè€…ï¼ˆä½ ï¼‰
2. ç¼“å­˜åˆ—è¡¨ï¼ˆé€šè®¯å½•ï¼Œä½ çš„æœ‹å‹ä»¬ç›¸å½“äºè®¢é˜…äº†ä½ çš„æ‰€æœ‰æ¶ˆæ¯ï¼‰
3. å‘å¸ƒæ¶ˆæ¯çš„æ—¶å€™éå†ç¼“å­˜åˆ—è¡¨ï¼Œä¾æ¬¡è§¦å‘é‡Œé¢å­˜æ”¾çš„è®¢é˜…è€…çš„å›è°ƒå‡½æ•°ï¼ˆæŒ¨ä¸ªæ‰“ç”µè¯ï¼‰
4. å¦å¤–ï¼Œå›è°ƒå‡½æ•°ä¸­è¿˜å¯ä»¥æ·»åŠ å¾ˆå¤šå‚æ•°ï¼Œï¼Œè®¢é˜…è€…å¯ä»¥æ¥æ”¶è¿™äº›å‚æ•°ï¼Œæ¯”å¦‚ä½ ä¼šå‘Šè¯‰ä»–ä»¬å©šç¤¼æ—¶é—´ï¼Œåœ°ç‚¹ç­‰ï¼Œè®¢é˜…è€…æ”¶åˆ°æ¶ˆæ¯åå¯ä»¥è¿›è¡Œå„è‡ªçš„å¤„ç†ã€‚

```js
let yourMsg = {};
yourMsg.peopleList = [];
yourMsg.listen = function (fn) {
    this.peopleList.push(fn);
}
yourMsg.triger = function () {
    for(var i = 0,fn;fn=this.peopleList[i++];){
        fn.apply(this,arguments);
    }
}

yourMsg.listen(function (name) {
    console.log(`${name}æ”¶åˆ°äº†ä½ çš„æ¶ˆæ¯`);
})
yourMsg.listen(function (name) {
    console.log('å“ˆå“ˆ');
})

yourMsg.triger('å¼ ä¸‰');
yourMsg.triger('æå››');
```

![img](https://user-gold-cdn.xitu.io/2018/2/24/161c6c2aed446eec?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

- ä»¥ä¸Šå°±æ˜¯ä¸€ä¸ªç®€å•çš„å‘å¸ƒ-è®¢é˜…çš„å®ç°ï¼Œä½†æ˜¯æˆ‘ä»¬ä¼šå‘ç°è®¢é˜…è€…ä¼šæ”¶åˆ°å‘å¸ƒè€…å‘å¸ƒçš„æ¯ä¸€æ¡ä¿¡æ¯ï¼Œå¦‚æœæå››æ¯”è¾ƒé˜´æš—ï¼Œä¸æƒ³å¬åˆ°ä½ ç»“å©šçš„æ¶ˆæ¯ï¼Œåªæƒ³å¬åˆ°ä½ çš„åæ¶ˆæ¯ï¼Œæ¯”å¦‚ä½ è¢«å¼€é™¤äº†ï¼Œä»–å°±å¿ƒé‡Œé«˜å…´ã€‚è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦åŠ ä¸€ä¸ªkeyï¼Œè®©è®¢é˜…è€…åªè®¢é˜…è‡ªå·±æ„Ÿå…´è¶£çš„æ¶ˆæ¯ã€‚

```js
let yourMsg = {};
yourMsg.peopleList ={};
yourMsg.listen = function (key,fn) {
    if (!this.peopleList[key]) { //å¦‚æœæ²¡æœ‰è®¢é˜…è¿‡æ­¤ç±»æ¶ˆæ¯ï¼Œåˆ›å»ºä¸€ä¸ªç¼“å­˜åˆ—è¡¨
        this.peopleList[key] = [];
    }
    this.peopleList[key].push(fn);
}
yourMsg.triger = function () {
    let key = Array.prototype.shift.call(arguments);
    let fns = this.peopleList[key];
    if (!fns || fns.length == 0) {//æ²¡æœ‰è®¢é˜… åˆ™è¿”å›
        return false;
    }
    for(var i=0,fn;fn=fns[i++];){
        fn.apply(this,arguments);
    }
}

yourMsg.listen('marrgie',function (name) {
    console.log(`${name}æƒ³çŸ¥é“ä½ ç»“å©š`);
})
yourMsg.listen('unemployment',function (name) {
    console.log(`${name}æƒ³çŸ¥é“ä½ å¤±ä¸š`);
})

yourMsg.triger('marrgie','å¼ ä¸‰');
yourMsg.triger('unemployment','æå››');
```

![img](https://user-gold-cdn.xitu.io/2018/2/24/161c6ce98f1cede9?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

- ä½ éœ€è¦å‘å¸ƒæ¶ˆæ¯ï¼ŒåŒæ ·çš„æ‰€æœ‰çš„äººéƒ½æœ‰æœ‹å‹åœˆï¼Œä¹Ÿéƒ½éœ€è¦å‘å¸ƒæ¶ˆæ¯ï¼Œå› æ­¤æˆ‘ä»¬æœ‰å¿…è¦æŠŠå‘å¸ƒ-è®¢é˜…çš„åŠŸèƒ½æå–å‡ºæ¥ï¼Œæ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„å¯¹è±¡å†…ï¼Œè°éœ€è¦è°å»åŠ¨æ€å®‰è£…å‘å¸ƒ-è®¢é˜…åŠŸèƒ½(installEventå‡½æ•°å®ç°äº†åŠ¨æ€å®‰è£…å‘å¸ƒ-è®¢é˜…åŠŸèƒ½)ã€‚

```js
var event = {
    peopleList:[],
    listen:function (key,fn) {
        if (!this.peopleList[key]) { //å¦‚æœæ²¡æœ‰è®¢é˜…è¿‡æ­¤ç±»æ¶ˆæ¯ï¼Œåˆ›å»ºä¸€ä¸ªç¼“å­˜åˆ—è¡¨
        this.peopleList[key] = [];
        }
        this.peopleList[key].push(fn)
    },
    trigger:function () {
         let key = Array.prototype.shift.call(arguments);
        let fns = this.peopleList[key];
        if (!fns || fns.length == 0) {//æ²¡æœ‰è®¢é˜… åˆ™è¿”å›
            return false;
        }
        for(var i=0,fn;fn=fns[i++];){
            fn.apply(this,arguments);
        }
    }
}

var installEvent  = function (obj) {
    for(var i in event){
        obj[i] = event[i];
    }
}

let yourMsg = {};
installEvent(yourMsg);
yourMsg.listen('marrgie',function (name) {
    console.log(`${name}æƒ³çŸ¥é“ä½ ç»“å©š`);
})
yourMsg.listen('unemployment',function (name) {
    console.log(`${name}æƒ³çŸ¥é“ä½ å¤±ä¸š`);
})

yourMsg.trigger('marrgie','å¼ ä¸‰');
yourMsg.trigger('unemployment','æå››');
```

- æœ‰æ—¶é—´æˆ‘ä»¬éœ€è¦å–æ¶ˆè®¢é˜…çš„äº‹ä»¶ï¼Œæ¯”å¦‚æå››æ˜¯ä½ çš„å¥½æœ‹å‹ï¼Œä½†æ˜¯å› ä¸ºä¸€ä»¶äº‹æƒ…ï¼Œä½ ä¿©é—¹æ°äº†ï¼Œä½ æŠŠä»–ä»ä½ çš„é€šè®¯å½•ä¸­ç»™åˆ é™¤æ‰äº†ï¼Œè¿™é‡Œæˆ‘ä»¬ç»™eventå¢åŠ ä¸€ä¸ªremoveæ–¹æ³•ï¼›

```js
remove:function (key,fn) {
      var fns = this.clientList[key];
      if(!fns){
          return false;
      }  
      if(!fn){
          fns && (fns.length=0)
      }else{
          for (let index = 0; index < fns.length; index++) {
              const _fn = fns[index];
              if(_fn === fn){
                  fns.splice(index,1);
              }
          }
      }
    }
```

#### å‘å¸ƒ-è®¢é˜…çš„é¡ºåºæ¢è®¨

æˆ‘ä»¬é€šå¸¸æ‰€çœ‹åˆ°çš„éƒ½æ˜¯å…ˆè®¢é˜…å†å‘å¸ƒï¼Œä½†æ˜¯å¿…é¡»è¦éµå®ˆè¿™ç§é¡ºåºå—ï¼Ÿç­”æ¡ˆæ˜¯ä¸ä¸€å®šçš„ã€‚å¦‚æœå‘å¸ƒè€…å…ˆå‘å¸ƒä¸€æ¡æ¶ˆæ¯ï¼Œä½†æ˜¯æ­¤æ—¶è¿˜æ²¡æœ‰è®¢é˜…è€…è®¢é˜…æ­¤æ¶ˆæ¯ï¼Œæˆ‘ä»¬å¯ä»¥ä¸è®©æ­¤æ¶ˆæ¯æ¶ˆå¤±äºå®‡å®™ä¹‹ä¸­ã€‚å°±å¦‚åŒQQç¦»çº¿æ¶ˆæ¯ä¸€æ ·ï¼Œç¦»çº¿çš„æ¶ˆæ¯è¢«ä¿å­˜åœ¨æœåŠ¡å™¨ä¸­ï¼Œæ¥æ”¶äººä¸‹æ¬¡ç™»å½•ä¹‹åï¼Œæ‰ä¼šæ”¶åˆ°æ­¤æ¶ˆæ¯ã€‚åŒæ ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥å»ºç«‹ä¸€ä¸ªå­˜æ”¾ç¦»çº¿äº‹ä»¶çš„å †æ ˆï¼Œå½“äº‹ä»¶å‘å¸ƒçš„æ—¶å€™ï¼Œå¦‚æœæ­¤æ—¶è¿˜æ²¡æœ‰è®¢é˜…è€…è®¢é˜…è¿™ä¸ªäº‹ä»¶ï¼Œæˆ‘ä»¬æš‚æ—¶æŠŠå‘å¸ƒäº‹ä»¶çš„åŠ¨ä½œåŒ…è£¹åœ¨ä¸€ä¸ªå‡½æ•°é‡Œï¼Œè¿™äº›åŒ…è£…å‡½æ•°ä¼šè¢«å­˜å…¥å †æ ˆä¸­ï¼Œç­‰åˆ°æœ‰å¯¹è±¡æ¥è®¢é˜…äº‹ä»¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°†éå†å †æ ˆå¹¶ä¾æ¬¡æ‰§è¡Œè¿™äº›åŒ…è£…å‡½æ•°ï¼Œå³é‡å‘é‡Œé¢çš„äº‹ä»¶ï¼Œä¸è¿‡ç¦»çº¿äº‹ä»¶çš„ç”Ÿå‘½å‘¨æœŸåªæœ‰ä¸€æ¬¡ï¼Œå°±åƒqqæœªè¯»æ¶ˆæ¯åªä¼šæç¤ºä½ ä¸€æ¬¡ä¸€æ ·ã€‚

#### JavaScriptå®ç°å‘å¸ƒ-è®¢é˜…æ¨¡å¼çš„ä¾¿åˆ©æ€§

å› ä¸ºJavaScriptæœ‰å›è°ƒå‡½æ•°è¿™ä¸ªä¼˜åŠ¿å­˜åœ¨ï¼Œæˆ‘ä»¬å†™å¼€å‘-è®¢é˜…æ˜¾å¾—æ›´ç®€å•ä¸€ç‚¹ã€‚ä¼ ç»Ÿçš„å‘å¸ƒ-è®¢é˜…æ¯”å¦‚Javaé€šå¸¸ä¼šæŠŠè®¢é˜…è€…è‡ªèº«å½“æˆå¼•ç”¨ä¼ å…¥å‘å¸ƒè€…å¯¹è±¡ä¸­ï¼ŒåŒæ—¶è®¢é˜…è€…å¯¹è±¡è¿˜éœ€æä¾›ä¸€ä¸ªåä¸ºè¯¸å¦‚updateçš„æ–¹æ³•ï¼Œä¾›å‘å¸ƒè€…å¯¹è±¡åœ¨åˆé€‚çš„æ—¶å€™è°ƒç”¨ã€‚ä¸‹é¢ä»£ç ç”¨jsæ¨¡æ‹Ÿä¸‹ä¼ ç»Ÿçš„å®ç°ã€‚

```js
function Dep() {
    this.subs = [];
}
Dep.prototype.addSub = function (sub) {
    this.subs.push(sub);
}
Dep.prototype.notify = function () {
    this.subs.forEach(sub=>sub.update());
}
function Watcher(fn) {
    this.fn = fn;
}
Watcher.prototype.update = function () {
     this.fn();
}

var dep = new Dep();
dep.addSub(new Watcher(function () {
    console.log('okokok');
}))
dep.notify();
```

#### å°ç»“

- å‘å¸ƒ-è®¢é˜…çš„ä¼˜åŠ¿å¾ˆæ˜æ˜¾ï¼Œåšåˆ°äº†æ—¶é—´ä¸Šçš„è§£è€¦å’Œå¯¹è±¡ä¹‹é—´çš„è§£è€¦ï¼Œä»æ¶æ„ä¸Šçœ‹ï¼ŒMVCï¼ŒMVVMéƒ½å°‘ä¸äº†å‘å¸ƒ-è®¢é˜…çš„å‚ä¸ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„Vueä¹Ÿæ˜¯åŸºäºå‘å¸ƒ-è®¢é˜…çš„ï¼Œæœ€è¿‘ä¼šæŠ½æ—¶é—´å†™ä¸‹vueçš„æºç å®ç°ï¼ŒåŒæ ·çš„nodeä¸­çš„EventEmitterä¹Ÿæ˜¯å‘å¸ƒè®¢é˜…çš„ï¼Œä¹‹å‰ä¹Ÿæ‰‹å†™è¿‡å®ƒçš„å®ç°ã€‚
- å‘å¸ƒ-è®¢é˜…åŒæ—¶ä¹Ÿæ˜¯æœ‰ç¼ºç‚¹å­˜åœ¨çš„ï¼Œåˆ›å»ºè®¢é˜…è€…æœ¬èº«è¦æ¶ˆè€—ä¸€å®šçš„æ—¶é—´å’Œå†…å­˜ï¼Œè€Œä¸”å½“ä½ è®¢é˜…ä¸€ä¸ªæ¶ˆæ¯ä»¥åï¼Œå¯èƒ½æ­¤æ¶ˆæ¯æœ€åéƒ½æœªå‘ç”Ÿï¼Œä½†æ˜¯è¿™ä¸ªè®¢é˜…è€…ä¼šå§‹ç»ˆå­˜åœ¨äºå†…å­˜ä¸­ã€‚å¦‚æœç¨‹åºä¸­å¤§é‡ä½¿ç”¨å‘å¸ƒ-è®¢é˜…çš„è¯ï¼Œä¹Ÿä¼šä½¿å¾—ç¨‹åºè·Ÿè¸ªbugå˜å¾—å›°éš¾ã€‚ 

</details>



### **2019/12/26**âŒšï¸

- è¯·ç”¨jQueryå®ç°ä¸€ä¸ªå›¾ç‰‡çš„æ‰‹é£ç´æ•ˆæœ

<details >
<summary>ç‚¹å‡»</summary>

```html
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <style>
        * {
            margin: 0;
            padding: 0;
            list-style: none;
        }

        .wrap {
            width: 1178px;
            height: 174px;
            overflow: hidden;
            position: relative;
            margin: 0 auto;

        }

        .wrap ul li {
            float: left;
            width: 210px;
            height: 174px;
            overflow: hidden;
        }

        .wrap ul {
            width: 2000px;
        }

        .wrap ul li img {
            width: 550px;
            height: 174px;
        }
    </style>
</head>

<body>

    <div class="wrap">
        <ul>
            <li style='width:550px'><img src="http://pic.shejiben.com/hot_sjb/377_8180.jpg?1462261126" alt=""></li>
            <li><img src="http://pic.shejiben.com/hot_sjb/377_8288.jpg?1464830033" alt=""></li>
            <li><img src="http://pic.shejiben.com/hot_sjb/377_8155.jpg?1460709517" alt=""></li>
            <li><img src="http://pic.shejiben.com/hot_sjb/377_7937.jpg?1456984280" alt=""></li>
        </ul>
    </div>
    <script src="https://lib.baomitu.com/jquery/1.12.4/jquery.js"></script>
    <script>
        $(".wrap").find("li").mouseover(function () {
            $(this).stop().animate({
                width: 550
            }).siblings().stop().animate({
                width: 210
            })
        })
    </script>
</body>

</html>
```

</details>



### **2019/12/27**âŒšï¸

- è¯´è¯´jQueryçš„å°ºå¯¸ç±»æ–¹æ³•

<details >
<summary>ç‚¹å‡»</summary>å°ºå¯¸

### width()

> è®¾ç½®æˆ–è¿”å›å…ƒç´ çš„å®½åº¦ï¼ˆä¸åŒ…æ‹¬å†…è¾¹è·ã€è¾¹æ¡†æˆ–å¤–è¾¹è·ï¼‰

```js
$(".box").width();//è·å¾—å®½åº¦
$(".box").width(300);//è®¾ç½®å®½åº¦
```



### height()

> è®¾ç½®æˆ–è¿”å›å…ƒç´ çš„é«˜åº¦ï¼ˆä¸åŒ…æ‹¬å†…è¾¹è·ã€è¾¹æ¡†æˆ–å¤–è¾¹è·ï¼‰

```js
$(".box").height();//è·å¾—å®½åº¦
$(".box").height(300);//è®¾ç½®å®½åº¦
```



### innerWidth()

> è®¾ç½®æˆ–è¿”å›å…ƒç´ çš„å®½åº¦ï¼ˆåŒ…æ‹¬å†…è¾¹è·ï¼‰

```js
$(".box").innerWidth();//è·å¾—offsetWidth
$(".box").innerWidth(300);//å€¼å‡å»paddingåè®¾ç½®ç»™å®½åº¦
```



### innerHeight()

> è®¾ç½®æˆ–è¿”å›å…ƒç´ çš„é«˜åº¦ï¼ˆåŒ…æ‹¬å†…è¾¹è·ï¼‰

```js
$(".box").innerHeight();//è·å¾—offsetHeight
$(".box").innerHeight(300);//å€¼å‡å»paddingåè®¾ç½®ç»™é«˜åº¦
```



### outerWidth()

> è®¾ç½®æˆ–è¿”å›å…ƒç´ çš„å®½åº¦ï¼ˆåŒ…æ‹¬å†…è¾¹è·,åŒ…æ‹¬è¾¹æ¡†ï¼‰

```js
$(".box").outerWidth();//è·å¾—clientWidth
$(".box").outerWidth(300);//å€¼å‡å»paddingå’Œborderåè®¾ç½®ç»™å®½åº¦
```



### outerHeight()

> è®¾ç½®æˆ–è¿”å›å…ƒç´ çš„é«˜åº¦ï¼ˆåŒ…æ‹¬å†…è¾¹è·,åŒ…æ‹¬è¾¹æ¡†ï¼‰

```js
$(".box").outerHeight();//è·å¾—clientHeight
$(".box").outerHeight(300);//å€¼å‡å»paddingå’Œborderåè®¾ç½®ç»™é«˜åº¦
```



### offset()

> è®¾ç½®æˆ–è¿”å›å…ƒç´ è·ç¦»é¡µé¢çš„leftå’Œtop,è¿”å›ä¸€ä¸ªå¯¹è±¡(åŒ…å«position+margin)

```js
console.log($(".box1").offset());       //position+margin
$(".box1").offset({left:100,top:100}) //å€¼å‡å»marginåè®¾ç½®ç»™leftå’Œtop
```



### position()

> è¿”å›å…ƒç´ è·ç¦»é¡µé¢çš„leftå’Œtop,è¿”å›ä¸€ä¸ªå¯¹è±¡(ä¸margin)

```js
$(".box1").position().left;
$(".box1").position().top	;
```



### scrollTop()

> è®¾ç½®æˆ–è¿”å›æ»šåŠ¨æ¡çš„é«˜åº¦

```js
$(".box1").scrollTop();
$(".box1").scrollTop(300);
```



</details>



### **2019/12/28**âŒšï¸

- äº‹ä»¶æµçš„çŠ¶æ€åŠå«ä¹‰

<details >
<summary>ç‚¹å‡»</summary>
<ul>
<li>äº‹ä»¶å†’æ³¡ï¼šä»å†…å‘å¤–ï¼Œä¾æ¬¡è§¦å‘æ‰€æœ‰çˆ¶çº§çš„ç›¸åŒäº‹ä»¶</li>
<li>äº‹ä»¶æ•è·ï¼šä»å¤–å‘å†…ï¼Œä¾æ¬¡è§¦å‘ä»æœ€å¤§çš„çˆ¶çº§åˆ°ç›®æ ‡çš„ç›¸åŒäº‹ä»¶</li>
<li>ç›®æ ‡äº‹ä»¶ï¼šå½“å‰çœŸæ­£è¦è§¦å‘çš„äº‹ä»¶</li>

</ul>
</details>



### **2019/12/29**âŒšï¸

- cookieçš„ç‰¹ç‚¹

<details >
<summary>ç‚¹å‡»</summary>
<ul>
<li>æ–‡æœ¬</li>
<li>å¤§å°4K</li>
<li>ä¸èƒ½è·¨åŸŸ</li>
<li>æ¡æ•°50</li>
<li>æ—¶é—´é™åˆ¶</li>

</ul>
</details>

### **2019/12/30**âŒšï¸

- $.ajax()æ€ä¹ˆå®ç°è¶…æ—¶æŠ¥é”™

<details >
<summary>ç‚¹å‡»</summary>

```js
$.ajax({
    url:"https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su",
    dataType:"jsonp",
    jsonp:"cb",
    data:{
        wb:"html"
    },
    success:function(res,status,xhr){
		console.log(res); 
    	console.log(status);
    	console.log(xhr);
	},
    error:function(xhr,status,res){
    	console.log(xhr);
    	console.log(status);
    	console.log(res);
	}
	timeOut:100,//æ•°å€¼å•ä½ä¸ºæ¯«ç§’ï¼Œè¶…æ—¶ä¼šæ‰§è¡Œerrorå‡½æ•°,statuså’Œresä¼šè¾“å‡ºtimeOutå­—ç¬¦ä¸²
})
```



</details>



### **2019/12/31**âŒšï¸

- ä»€ä¹ˆæ˜¯ç«¯å£

<details >
<summary>ç‚¹å‡»</summary>
<ul>
<li>ç«¯å£çš„ä½œç”¨ï¼š`é€šè¿‡ç«¯å£æ¥åŒºåˆ†å‡ºåŒä¸€ç”µè„‘å†…ä¸åŒåº”ç”¨æˆ–è€…è¿›ç¨‹ï¼Œä»è€Œå®ç°ä¸€æ¡ç‰©ç†ç½‘çº¿(é€šè¿‡åˆ†ç»„äº¤æ¢æŠ€æœ¯-æ¯”å¦‚internet)åŒæ—¶é“¾æ¥å¤šä¸ªç¨‹`</li>
<li>ç«¯å£å·æ˜¯ä¸€ä¸ª 16ä½çš„ uint, æ‰€ä»¥å…¶èŒƒå›´ä¸º 1 to 65535 (å¯¹TCPæ¥è¯´, port 0 è¢«ä¿ç•™ï¼Œä¸èƒ½è¢«ä½¿ç”¨. å¯¹äºUDPæ¥è¯´, sourceç«¯çš„ç«¯å£å·æ˜¯å¯é€‰çš„ï¼Œ ä¸º0æ—¶è¡¨ç¤ºæ— ç«¯å£).</li>
<li>`app.listen(3000)`ï¼Œè¿›ç¨‹å°±è¢«æ‰“æ ‡ï¼Œç”µè„‘æ¥æ”¶åˆ°çš„3000ç«¯å£çš„ç½‘ç»œæ¶ˆæ¯å°±ä¼šè¢«å‘é€ç»™æˆ‘ä»¬å¯åŠ¨çš„è¿™ä¸ªè¿›ç¨‹</li>

</ul>
</details>

### **2020/01/01**âŒšï¸

- nodeå¦‚ä½•å®ç°get/postè¯·æ±‚è¿”å›æ•°æ®

<details >
<summary>ç‚¹å‡»</summary>

```js
const http = require("http");
const fs = require("fs");
const url = require("url");
const querystring = require("querystring");
http.createServer((req,res)=>{
    if(req.url != "/favicon.ico"){
   		var pathname = url.parse(req.url).pathname;
        if(pathname === "/api"){
        	ajaxHandle(req,res)    
        }else{
            fsHandle(req,res)
        }
    }
}).listen("81","127.0.0.1",()=>{
    console.log("run server on http://127.0.0.1:81");
})
function ajaxHandle(req,res){
    let str = "";
    req.on("data",(data)=>{
        str +=data;
    })
    req.on("end",()=>{
        let data = str ? querystring(str):url.parse(req.url);
        res.write(JSON.parse(data));
        res.end();
    })
}
function fsHandle(req,res){
}
```



</details>



### **2020/01/02**âŒšï¸

- gulpå¦‚ä½•è‡ªåŠ¨å¼€å¯æœåŠ¡å™¨

<details >
<summary>ç‚¹å‡»</summary>

```js
const gulp = require("gulp");
const connect = require("gulp-connect");
function serverFn(){
    connect.server({
        root:"æ–‡ä»¶å¤¹å"ï¼Œ
       	port:"ç«¯å£å"
    })
}
```

</details>

### **2020/01/03**âŒšï¸

- æ¨¡å—è§„èŒƒåŒ–çš„æ¦‚å¿µåŠä¼˜ç‚¹

<details >
<summary>ç‚¹å‡»</summary>

<ul>
<li>æ¨¡å—è§„èŒƒåŒ–çš„æ¦‚å¿µï¼šå°†é¡¹ç›®çš„æ‰€æœ‰åŠŸèƒ½å°è£…æˆç‹¬ç«‹çš„æ¨¡å—ï¼Œæ¨¡å—ä¹‹é—´æŒ‰ç…§ä¸€å®šçš„å…³ç³»æˆ–è€…è°ƒç”¨ï¼Œå®ç°æ•´ä¸ªé¡¹ç›®çš„æ­å»º</li>
<li>æ¨¡å—è§„èŒƒåŒ–çš„ä¼˜ç‚¹ï¼šå°è£…ï¼Œé‡ç”¨æ€§å¼ºï¼Œè€¦åˆä½ï¼Œæ–¹ä¾¿å•ç‹¬æ‰©å±•</li>
</ul>

</details>

### **2020/01/04**âŒšï¸

- AMDæ¨¡å—çš„ä½¿ç”¨

<details >
<summary>ç‚¹å‡»</summary>

### require()

> å¼•å…¥å…¥å£,å¼•å…¥æ¨¡å—
>
> require == requirejs //true

ä¸ä¼ ç»Ÿçš„<script>æ ‡è®°ç›¸æ¯”ï¼ŒRequireJSé‡‡ç”¨äº†ä¸åŒçš„æ–¹æ³•æ¥åŠ è½½è„šæœ¬ã€‚å°½ç®¡å®ƒè¿˜å¯ä»¥å¿«é€Ÿè¿è¡Œå¹¶ä¼˜åŒ–å¾—å¾ˆå¥½ï¼Œä½†ä¸»è¦ç›®æ ‡æ˜¯é¼“åŠ±ä½¿ç”¨æ¨¡å—åŒ–ä»£ç ã€‚ä½œä¸ºå…¶ä¸€éƒ¨åˆ†ï¼Œå®ƒé¼“åŠ±ä½¿ç”¨**æ¨¡å—ID**ä»£æ›¿è„šæœ¬æ ‡è®°çš„URLã€‚

RequireJSåŠ è½½ç›¸å¯¹äº[baseUrlçš„](https://requirejs.org/docs/api.html#config-baseUrl)æ‰€æœ‰ä»£ç ã€‚é€šå¸¸ï¼Œå°†baseUrlè®¾ç½®ä¸ºä¸data-mainå±æ€§ä¸­ä½¿ç”¨çš„è„šæœ¬ç›¸åŒçš„ç›®å½•ï¼Œä»¥ä½¿é¡¶çº§è„šæœ¬åŠ è½½é¡µé¢ã€‚è¯¥[æ•°æ®ä¸»è¦å±æ€§](https://requirejs.org/docs/api.html#data-main)æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å±æ€§ï¼Œrequire.jså°†æ£€æŸ¥å¯åŠ¨è„šæœ¬åŠ è½½ã€‚æœ¬ç¤ºä¾‹å°†ä»¥**è„šæœ¬**çš„baseUrlç»“å°¾ï¼š

```
<!--This sets the baseUrl to the "scripts" directory, and
    loads a script that will have a module ID of 'main'-->
<script data-main="scripts/main.js" src="scripts/require.js"></script>
```

æˆ–è€…ï¼Œå¯ä»¥é€šè¿‡[RequireJS config](https://requirejs.org/docs/api.html#config)æ‰‹åŠ¨è®¾ç½®[baseUrl](https://requirejs.org/docs/api.html#config)ã€‚å¦‚æœæ²¡æœ‰æ˜¾å¼é…ç½®ä¸”æœªä½¿ç”¨data-mainï¼Œåˆ™é»˜è®¤çš„baseUrlæ˜¯åŒ…å«è¿è¡ŒRequireJSçš„HTMLé¡µé¢çš„ç›®å½•ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒRequireJSè¿˜å‡å®šæ‰€æœ‰ä¾èµ–é¡¹éƒ½æ˜¯è„šæœ¬ï¼Œå› æ­¤ï¼Œå®ƒä¸ä¼šåœ¨æ¨¡å—IDä¸Šçœ‹åˆ°å°¾éšçš„â€œ .jsâ€åç¼€ã€‚åœ¨å°†æ¨¡å—IDè½¬æ¢ä¸ºè·¯å¾„æ—¶ï¼ŒRequireJSå°†è‡ªåŠ¨æ·»åŠ å®ƒã€‚ä½¿ç”¨[path config](https://requirejs.org/docs/api.html#config-paths)ï¼Œå¯ä»¥è®¾ç½®ä¸€ç»„è„šæœ¬çš„ä½ç½®ã€‚ä¸ä¼ ç»Ÿçš„<script>æ ‡è®°ç›¸æ¯”ï¼Œæ‰€æœ‰è¿™äº›åŠŸèƒ½éƒ½å…è®¸æ‚¨ä¸ºè„šæœ¬ä½¿ç”¨è¾ƒå°çš„å­—ç¬¦ä¸²ã€‚

æœ‰æ—¶æ‚¨å¯èƒ½ç¡®å®æƒ³ç›´æ¥å¼•ç”¨è„šæœ¬ï¼Œè€Œåˆä¸éµå¾ªâ€œ baseUrl +è·¯å¾„â€è§„åˆ™æ¥æŸ¥æ‰¾è„šæœ¬ã€‚å¦‚æœæ¨¡å—IDå…·æœ‰ä»¥ä¸‹ç‰¹å¾ä¹‹ä¸€ï¼Œåˆ™è¯¥IDå°†ä¸ä¼šé€šè¿‡â€œ baseUrl +è·¯å¾„â€é…ç½®ä¼ é€’ï¼Œè€Œåªä¼šè¢«è§†ä¸ºä¸æ–‡æ¡£ç›¸å…³çš„å¸¸è§„URLï¼š

- ä»¥â€œ .jsâ€ç»“å°¾ã€‚
- ä»¥â€œ /â€å¼€å¤´ã€‚
- åŒ…å«URLåè®®ï¼Œä¾‹å¦‚â€œ httpï¼šâ€æˆ–â€œ httpsï¼šâ€ã€‚



### å‚æ•°

#### æ•°ç»„

```js
["module/mA","module/mB"]
```

> æ•°ç»„é‡Œå­˜æ”¾å¤šä¸ªå°æ¨¡å—(JSçš„ç›¸å¯¹è·¯å¾„)
>
> æ¯ä¸ªå°æ¨¡å—ä¹‹é—´æ˜¯å¼‚æ­¥

#### å›è°ƒå‡½æ•°

```js
function(data1,data2){}
```

> å›è°ƒå‡½æ•°å’Œå¤–éƒ¨ä»£ç ä¹‹é—´æ˜¯å¼‚æ­¥
>
> å›è°ƒå‡½æ•°å’Œæ‰€æœ‰å°æ¨¡å—ä¹‹é—´æ˜¯åŒæ­¥

### å¼•å…¥åŒæ–‡ä»¶å¤¹ä¸‹çš„jS

```js
require(["module/mA.js", "module/mB.js"], function (a, b) {
    a.show(b.data);
    b.show(a.data);
})
```



### config(obj)

> é…ç½®è·¯å¾„ä¿¡æ¯

objåŒ…å«2ä¸ªé”®å€¼å¯¹

åŸºç›®å½•baseUrlï¼šæŒ‡å®šrequireåœ¨å¼•å…¥å°æ¨¡å—æ—¶çš„èµ·å§‹è·¯å¾„

å®šä¹‰å°æ¨¡å—çš„åˆ«åpathsï¼šèµ·åˆ«åï¼Œåœ¨requireå¼•å…¥æ¨¡å—æ—¶ï¼Œå¯ä»¥é€šè¿‡åˆ«åå¼•å…¥æ¨¡å—

```js
require.config({
    baseUrl: "module4",
    paths: {
        jq: "../libs/jquery",
        a: "mA",
        b: "mB"
    }
})
```



### define()

> æš´éœ²å…¥å£,å®šä¹‰æ¨¡å—

æ¨¡å—ä¸ä¼ ç»Ÿè„šæœ¬æ–‡ä»¶çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªèŒƒå›´å¹¿æ³›çš„å¯¹è±¡ï¼Œå¯é¿å…æ±¡æŸ“å…¨å±€åç§°ç©ºé—´ã€‚å®ƒå¯ä»¥æ˜¾å¼åˆ—å‡ºå…¶ä¾èµ–å…³ç³»ï¼Œå¹¶åœ¨ä¸éœ€è¦å¼•ç”¨å…¨å±€å¯¹è±¡çš„æƒ…å†µä¸‹è·å–è¿™äº›ä¾èµ–å…³ç³»çš„å¥æŸ„ï¼Œè€Œæ˜¯å°†ä¾èµ–å…³ç³»ä½œä¸ºå®šä¹‰æ¨¡å—çš„å‡½æ•°çš„å‚æ•°æ¥æ¥æ”¶ã€‚RequireJSä¸­çš„[æ¨¡å—](http://www.adequatelygood.com/2010/3/JavaScript-Module-Pattern-In-Depth)æ˜¯[Module Pattern](http://www.adequatelygood.com/2010/3/JavaScript-Module-Pattern-In-Depth)çš„æ‰©å±•ï¼Œå…¶ä¼˜ç‚¹æ˜¯ä¸éœ€è¦å…¨å±€å˜é‡æ¥å¼•ç”¨å…¶ä»–æ¨¡å—ã€‚

æ¨¡å—çš„RequireJSè¯­æ³•å…è®¸å®ƒä»¬ä»¥å°½å¯èƒ½å¿«çš„é€Ÿåº¦åŠ è½½ï¼Œå³ä½¿é¡ºåºæ··ä¹±ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯ä»¥æ­£ç¡®çš„ä¾èµ–å…³ç³»é¡ºåºè¿›è¡Œè¯„ä¼°ï¼Œå¹¶ä¸”ç”±äºæœªåˆ›å»ºå…¨å±€å˜é‡ï¼Œå› æ­¤å¯ä»¥[åœ¨é¡µé¢ä¸­åŠ è½½æ¨¡å—çš„å¤šä¸ªç‰ˆæœ¬](https://requirejs.org/docs/api.html#multiversion)ã€‚

ï¼ˆå¦‚æœæ‚¨ç†Ÿæ‚‰æˆ–æ­£åœ¨ä½¿ç”¨CommonJSæ¨¡å—ï¼Œé‚£ä¹ˆä¹Ÿè¯·å‚é˜…[CommonJS Notes](https://requirejs.org/docs/commonjs.html)ä»¥è·å–æœ‰å…³RequireJSæ¨¡å—æ ¼å¼å¦‚ä½•æ˜ å°„åˆ°CommonJSæ¨¡å—çš„ä¿¡æ¯ï¼‰ã€‚

ç£ç›˜ä¸Šæ¯ä¸ªæ–‡ä»¶åªèƒ½æœ‰**ä¸€ä¸ª**æ¨¡å—å®šä¹‰ã€‚å¯ä»¥é€šè¿‡[ä¼˜åŒ–å·¥å…·](https://requirejs.org/docs/optimization.html)å°†æ¨¡å—åˆ†ç»„ä¸ºä¼˜åŒ–çš„åŒ…ã€‚

### å‚æ•°

#### æ•°ç»„

> å½“å‰å®šä¹‰çš„æ¨¡å—çš„ä¾èµ–

```js
define(["libs/jQuery"],function (_) {
    //Do setup work here
	var a = $();
    function show(data){
        console.log(data);
    }
    return {
        data:a,
        fn:show
    }
});
```

â€‹	å¦‚æœå½“å‰å®šä¹‰çš„æ¨¡å—çš„`ä¾èµ–æ²¡æœ‰`è¢«æ”¾åœ¨defineçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸­è¢«`æå‰åŠ è½½`,é‚£ä¹ˆåœ¨å½“å‰å®šä¹‰çš„æ¨¡å—ä¸­è¿˜æƒ³ä½¿ç”¨è¿™ä¸ªä¾èµ–çš„å†…å®¹,é‚£ä¹ˆåƒä¸‡`ä¸è¦åœ¨å½“å‰æ¨¡å—`ä¸­ç›´æ¥`æ‰§è¡Œ`,`å°è£…æˆåŠŸèƒ½`,æš´éœ²å‡ºå»,ç­‰å¾…æ‰€æœ‰æ¨¡å—åŠ è½½å®Œæˆåå†å»æ‰§è¡Œã€‚

#### å›è°ƒå‡½æ•°

### ç®€å•åç§°/å€¼å¯¹

å¦‚æœæ¨¡å—æ²¡æœ‰ä»»ä½•ä¾èµ–å…³ç³»ï¼Œè€Œåªæ˜¯åç§°/å€¼å¯¹çš„é›†åˆï¼Œåˆ™åªéœ€å°†å¯¹è±¡æ–‡å­—ä¼ é€’ç»™defineï¼ˆï¼‰ï¼š

```js
//Inside file my/shirt.js:
define({
    color: "black",
    size: "unisize"
});
```

### å®šä¹‰å‡½æ•°

å¦‚æœæ¨¡å—æ²¡æœ‰ä¾èµ–é¡¹ï¼Œä½†æ˜¯éœ€è¦ä½¿ç”¨å‡½æ•°æ¥å®Œæˆä¸€äº›è®¾ç½®å·¥ä½œï¼Œåˆ™å®šä¹‰è‡ªå·±ï¼Œç„¶åå°†å‡½æ•°ä¼ é€’ç»™defineï¼ˆï¼‰ï¼š

```js
//my/shirt.js now does setup work
//before returning its module definition.
define([],function () {
    //Do setup work here
	var a = "aaa";
    function show(data){
        console.log(data);
    }
    return {
        data:a,
        fn:show
    }
});
```



### å®ä¾‹

### æ¨¡å—A

```js
define([], function () {
    var a = "aaa";

    function fn(data) {
        console.log("Aæ¨¡å—çš„æ˜¯ï¼š" + data);
    }
    return {
        data: a,
        show: fn
    }
})
```



### æ¨¡å—B

```js
define([], function () {
    var b = "bbb";

    function fn(data) {
        console.log("Aæ¨¡å—çš„æ˜¯ï¼š" + data);
    }
    return {
        data: b,
        show: fn
    }
})
```



### ä¸»æ¨¡å—

```js
<script src="../../libs/require.js"></script>
<script>
    require(["module/mA.js", "module/mB.js"], function (a, b) {
        a.show(b.data);
        b.show(a.data);
    })
</script>
```

</details>



### **2020/01/05**âŒšï¸

- å¦‚ä½•æ‰‹å†™ä¸€ä¸ªpromiseåŠŸèƒ½

<details >
<summary>ç‚¹å‡»</summary>

```js
  // let promise = new _Promise((resolve, reject) => {
    //     //è¿™é‡Œæ”¾å…¥æˆ‘ä»¬è¦æ‰§è¡Œçš„å‡½æ•°ï¼Œå¯èƒ½æ˜¯åŒæ­¥ï¼Œä¹Ÿå¯èƒ½æ˜¯å¼‚æ­¥, è¿™é‡Œæˆ‘ä»¬å°±æ¥å†™ä¸€ä¸ªå¼‚æ­¥çš„æ‰§è¡Œ
    //     setTimeout(() => {
    //         resolve('hello');
    //     })
    // })

    // promise.then(data => {
    //     console.log(data);
    // }, err => {
    //     console.log(err)
    // })]
    class _Promise {
        constructor(exector) {
            let self = this;
            this.status = "pending";
            this.value;
            this.reason;
            this.onResolvedCallbacks = [];
            this.onRejectedCallbacks = [];

            function success(value) {
                if (self.status === "pending") {
                    self.value = value;
                }
                self.status = "resolved";
                self.onResolvedCallbacks.forEach((fn) => {
                    fn();
                });
            }

            function error(reason) {
                if (self.status === "pending") {
                    self.reason = reason;
                }
                self.status = 'rejected';
                self.onRejectedCallbacks.forEach((fn) => {
                    fn();
                });
            }

            try {
                exector(success, error);
            } catch (e) {
                error(e);
            }
        }
        // then(onResolved, onRejected) {
        //     let self = this;
        //     if (this.status === "resolved") {
        //         onResolved(self.value);
        //     } else if (this.status === "rejected") {
        //         onRejected(self.reason);
        //     } else if (this.status === 'pending') {
        //         this.onResolvedCallbacks.push(() => {
        //             onResolved(self.value);
        //         })
        //         this.onRejectedCallbacks.push(() => {
        //             onRejected(self.reason)
        //         });
        //     }

        // }
        then(onFulfilled, onRejected) {

            let self = this;

            function resolvePromise(promise2, x, resolve, reject) {
                if (promise2 === x) {
                    return reject(new TypeError('Chaining cycle'));
                }
                if (x !== null && (typeof x === 'object' || typeof x === 'function')) {
                    try {
                        let then = x.then;
                        if (typeof then === 'function') {
                            then.call(x, y => {
                                resolvePromise(promise2, y, resolve, reject);
                            }, err => {
                                reject(err);
                            });
                        } else {
                            resolve(x);
                        }
                    } catch (e) {
                        reject(e);
                    }
                } else {
                    resolve(x);
                }
            }
            let promise2 = new _Promise((resolve, reject) => {
                if (this.status === 'resolved') {
                    try {
                        let x = onFulfilled(self.value);
                        resolvePromise(promise2, x, resolve, reject);
                    } catch (e) {
                        reject(e);
                    }
                }

                if (this.status === 'rejected') {
                    try {
                        let x = onRejected(self.reason);
                        resolvePromise(promise2, x, resolve, reject);
                    } catch (e) {
                        reject(e);
                    }
                }
                if (this.status === 'pending') {
                    this.onResolvedCallbacks.push(() => {
                        try {
                            let x = onFulfilled(self.value);
                            resolvePromise(promise2, x, resolve, reject);
                        } catch (e) {
                            reject(e);
                        }

                    })
                    this.onRejectedCallbacks.push(() => {
                        try {
                            let x = onRejected(self.reason);
                            resolvePromise(promise2, x, resolve, reject);
                        } catch (e) {
                            reject(e);
                        }
                    });
                }
            })
            return promise2;
        }

    }
    let p = new _Promise((resolve, reject) => {
        setTimeout(() => {
            resolve('hello');
        })
    })

    let p2 = p.then(data => {
        return p2;
    })



    // let promise = new _Promise((resolve, reject) => {
    //     if (Math.random() > 0) {
    //         resolve('æˆåŠŸ');
    //     } else {
    //         reject('å¤±è´¥');
    //     }
    // })
    // // for (var i = 0; i < 1000; i++) {
    // //     console.log(1)
    // // }
    // console.log(promise.then(data => {
    //     console.log("sudo");
    // }))

    // url1 = "http://127.0.0.1/myown/promise/php/data1.php"
    // url2 = "http://127.0.0.1/myown/promise/php/data2.php"
    // url3 = "http://127.0.0.1/myown/promise/php/data3.php"

    // function getAjax(url, data) {
    //     var p = new _Promise(function (success, error) {
    //         var str = "";
    //         data = data || {};
    //         var xhr = new XMLHttpRequest();
    //         for (var i in data) {
    //             str += `${i}=${data[i]}&`;
    //         }
    //         str = str.slice(0, str.length - 1);
    //         url = url + "?" + str + "__retr0__=" + new Date().getDate();
    //         xhr.open("get", url, true);
    //         xhr.onreadystatechange = function () {
    //             if (xhr.readyState === 4 && xhr.status === 200) {
    //                 success(xhr.responseText);
    //             } else if (xhr.readyState === 4 && xhr.status != 200) {
    //                 error(xhr.status);
    //             }
    //         }
    //         xhr.send();
    //     })
    //     return p;
    // }
    // var p1 = getAjax(url1).then(function (res) {
    //     console.log(res);
    // }, function (res) {
    //     console.log(res)
    // })
    // var p2 = getAjax(url2).then(function (res) {
    //     console.log("jQuery");
    // }, function (res) {
    //     console.log(res)
    // })
    // var p3 = getAjax(url3).then(function (res) {
    //     console.log("jQuery");
    // }, function (res) {
    //     console.log(res)
    // })
    // Promise.all([p1, p2, p3])
```

</details>



### **2020/01/06**âŒšï¸

- ç»“æœæ˜¯ä»€ä¹ˆ?

    ```js
    Promise.resolve(5)
    ```

    

    <details >
          <summary>ç‚¹å‡»</summary>

    æˆ‘ä»¬å¯ä»¥å°†æˆ‘ä»¬æƒ³è¦çš„ä»»ä½•ç±»å‹çš„å€¼ä¼ é€’`Promise.resolve`ï¼Œæ— è®ºæ˜¯å¦`promise`ã€‚ è¯¥æ–¹æ³•æœ¬èº«è¿”å›å¸¦æœ‰å·²è§£æå€¼çš„`Promise`ã€‚ å¦‚æœæ‚¨ä¼ é€’å¸¸è§„å‡½æ•°ï¼Œå®ƒå°†æ˜¯å…·æœ‰å¸¸è§„å€¼çš„å·²è§£å†³`promise`ã€‚ å¦‚æœä½ é€šè¿‡äº†promiseï¼Œå®ƒå°†æ˜¯ä¸€ä¸ªå·²ç»resolvedçš„ä¸”å¸¦æœ‰ä¼ çš„å€¼çš„promiseã€‚

    ä¸Šè¿°æƒ…å†µï¼Œæˆ‘ä»¬ä¼ äº†æ•°å­—5ï¼Œå› æ­¤è¿”å›ä¸€ä¸ªresolvedçŠ¶æ€çš„promiseï¼Œresolveå€¼ä¸º`5`
      </details>

### **2020/01/07**âŒšï¸

- å“ªäº›æ–¹æ³•ä¿®æ”¹äº†åŸæ•°ç»„?

  ```js
  const emojis = ['âœ¨', 'ğŸ¥‘', 'ğŸ˜']
  
  emojis.map(x => x + 'âœ¨')
  emojis.filter(x => x !== 'ğŸ¥‘')
  emojis.find(x => x !== 'ğŸ¥‘')
  emojis.reduce((acc, cur) => acc + 'âœ¨')
  emojis.slice(1, 2, 'âœ¨') 
  emojis.splice(1, 2, 'âœ¨')
  ```

  

  <details >
        <summary>ç‚¹å‡»</summary>
        <ul>
            <li>ä½¿ç”¨`splice`æ–¹æ³•ï¼Œæˆ‘ä»¬é€šè¿‡åˆ é™¤ï¼Œæ›¿æ¢æˆ–æ·»åŠ å…ƒç´ æ¥ä¿®æ”¹åŸå§‹æ•°ç»„ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä»ç´¢å¼•1ä¸­åˆ é™¤äº†2ä¸ªå…ƒç´ ï¼ˆæˆ‘ä»¬åˆ é™¤äº†`'ğŸ¥‘'`å’Œ`'ğŸ˜'`ï¼‰ï¼ŒåŒæ—¶æ·»åŠ äº†![sparkles](https://github.githubassets.com/images/icons/emoji/unicode/2728.png)emojiè¡¨æƒ…ã€‚</li>
            <li>`map`ï¼Œ`filter`å’Œ`slice`è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œ`find`è¿”å›ä¸€ä¸ªå…ƒç´ ï¼Œè€Œ`reduce`è¿”å›ä¸€ä¸ªå‡å°çš„å€¼ã€‚</li>
        </ul>
    </details>

### **2020/01/08**âŒšï¸

- è¾“å‡ºä»€ä¹ˆ?

  ```js
  const food = ['ğŸ•', 'ğŸ«', 'ğŸ¥‘', 'ğŸ”']
  const info = { favoriteFood: food[0] }
  
  info.favoriteFood = 'ğŸ'
  
  console.log(food)
  ```

  <details >
        <summary>ç‚¹å‡»</summary>

  æˆ‘ä»¬å°†`info`å¯¹è±¡ä¸Šçš„`favoriteFood`å±æ€§çš„å€¼è®¾ç½®ä¸ºæŠ«è¨è¡¨æƒ…ç¬¦å·â€œ![pizza](https://github.githubassets.com/images/icons/emoji/unicode/1f355.png)â€çš„å­—ç¬¦ä¸²ã€‚å­—ç¬¦ä¸²æ˜¯åŸå§‹æ•°æ®ç±»å‹ã€‚åœ¨JavaScriptä¸­ï¼ŒåŸå§‹æ•°æ®ç±»å‹é€šè¿‡å€¼èµ·ä½œç”¨

  åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†`info`å¯¹è±¡ä¸Šçš„`favoriteFood`å±æ€§çš„å€¼è®¾ç½®ä¸ºç­‰äº`food`æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ï¼Œå­—ç¬¦ä¸²ä¸ºæŠ«è¨è¡¨æƒ…ç¬¦å·ï¼ˆ`'ğŸ•'` ï¼‰ã€‚å­—ç¬¦ä¸²æ˜¯åŸå§‹æ•°æ®ç±»å‹ï¼Œå¹¶ä¸”é€šè¿‡å€¼è¿›è¡Œäº¤äº’ï¼Œæˆ‘ä»¬æ›´æ”¹`info`å¯¹è±¡ä¸Š`favoriteFood`å±æ€§çš„å€¼ã€‚ foodæ•°ç»„æ²¡æœ‰æ”¹å˜ï¼Œå› ä¸ºfavoriteFoodçš„å€¼åªæ˜¯è¯¥æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼çš„å¤åˆ¶ï¼Œå¹¶ä¸”ä¸è¯¥å…ƒç´ ä¸Šçš„å…ƒç´ æ²¡æœ‰ç›¸åŒçš„å†…å­˜å¼•ç”¨é£Ÿç‰©`[0]`ã€‚å½“æˆ‘ä»¬è®°å½•é£Ÿç‰©æ—¶ï¼Œå®ƒä»ç„¶æ˜¯åŸå§‹æ•°ç»„`['ğŸ•'ï¼Œ'ğŸ«'ï¼Œ'ğŸ¥‘'ï¼Œ'ğŸ”']`ã€‚
    </details>

### **2020/01/09**âŒšï¸

- ä¾æ¬¡è¾“å‡ºä»€ä¹ˆ

  ```js
  const myPromise = () => Promise.resolve('I have resolved!')
  
  function firstFunction() {
    myPromise().then(res => console.log(res))
    console.log('second')
  }
  
  async function secondFunction() {
    console.log(await myPromise())
    console.log('second')
  }
  
  firstFunction()
  secondFunction()
  ```

  

  <details >
        <summary>ç‚¹å‡»</summary>

  <li>`second`,Â `I have resolved!`Â andÂ `I have resolved!`,Â `second`</li>

  <li> æœ‰äº†promiseï¼Œæˆ‘ä»¬é€šå¸¸ä¼šè¯´ï¼šå½“æˆ‘æƒ³è¦è°ƒç”¨æŸä¸ªæ–¹æ³•ï¼Œä½†æ˜¯ç”±äºå®ƒå¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´ï¼Œå› æ­¤æš‚æ—¶å°†å®ƒæ”¾åœ¨ä¸€è¾¹ã€‚åªæœ‰å½“æŸä¸ªå€¼è¢«resolved/rejectedï¼Œå¹¶ä¸”æ‰§è¡Œæ ˆä¸ºç©ºæ—¶æ‰ä½¿ç”¨è¿™ä¸ªå€¼ã€‚

  æˆ‘ä»¬å¯ä»¥åœ¨`async`å‡½æ•°ä¸­é€šè¿‡`.then`å’Œ`await`å…³é”®å­—è·å¾—è¯¥å€¼ã€‚ å°½ç®¡æˆ‘ä»¬å¯ä»¥é€šè¿‡`.then`å’Œ`await`è·å¾—promiseçš„ä»·å€¼ï¼Œä½†æ˜¯å®ƒä»¬çš„å·¥ä½œæ–¹å¼æœ‰æ‰€ä¸åŒã€‚

  åœ¨ `firstFunction`ä¸­ï¼Œå½“è¿è¡Œåˆ°`myPromise`æ–¹æ³•æ—¶æˆ‘ä»¬å°†å…¶æ”¾åœ¨ä¸€è¾¹ï¼Œå³promiseè¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå…¶ä»–åé¢çš„ä»£ç ï¼ˆ`console.log('second')`ï¼‰ç…§å¸¸è¿è¡Œï¼Œå› æ­¤`second`è¢«æ‰“å°å‡ºï¼Œ`firstFunction`æ–¹æ³•åˆ°æ­¤æ‰§è¡Œå®Œæ¯•ï¼Œæ‰§è¡Œæ ˆä¸­å®ä»»åŠ¡é˜Ÿåˆ—è¢«æ¸…ç©ºï¼Œæ­¤æ—¶å¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œ`I have resolved`è¢«æ‰“å°å‡ºã€‚

  åœ¨`secondFunction`æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡`await`å…³é”®å­—ï¼Œæš‚åœäº†åé¢ä»£ç çš„æ‰§è¡Œï¼Œç›´åˆ°å¼‚æ­¥å‡½æ•°çš„å€¼è¢«è§£ææ‰å¼€å§‹åé¢ä»£ç çš„æ‰§è¡Œã€‚è¿™æ„å‘³ç€ï¼Œå®ƒä¼šç­‰ç€ç›´åˆ° `myPromise` ä»¥å€¼`I have resolved`è¢«è§£å†³ä¹‹åï¼Œä¸‹ä¸€è¡Œ`second`æ‰å¼€å§‹æ‰§è¡Œã€‚</li>

    </details>



### **2020/01/10**âŒšï¸

- è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ

  ```js
  [[0, 1], [2, 3]].reduce(
    (acc, cur) => {
      return acc.concat(cur)
    },
    [1, 2]
  )
  ```

  <details >
        <summary>ç‚¹å‡»</summary>

  `[1, 2]`æ˜¯åˆå§‹å€¼ã€‚åˆå§‹å€¼å°†ä¼šä½œä¸ºé¦–æ¬¡è°ƒç”¨æ—¶ç¬¬ä¸€ä¸ªå‚æ•°Â `acc`Â çš„å€¼ã€‚åœ¨ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶ï¼ŒÂ `acc`Â çš„å€¼æ˜¯Â `[1, 2]`ï¼ŒÂ `cur`Â çš„å€¼æ˜¯Â `[0, 1]`ã€‚åˆå¹¶å®ƒä»¬ï¼Œç»“æœä¸ºÂ `[1, 2, 0, 1]`ã€‚ ç¬¬äºŒæ¬¡æ‰§è¡Œï¼ŒÂ `acc`Â çš„å€¼æ˜¯Â `[1, 2, 0, 1]`ï¼ŒÂ `cur`Â çš„å€¼æ˜¯Â `[2, 3]`ã€‚åˆå¹¶å®ƒä»¬ï¼Œæœ€ç»ˆç»“æœä¸ºÂ `[1, 2, 0, 1, 2, 3]`
    </details>

